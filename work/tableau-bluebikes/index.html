<!doctype html><html lang="en-US" class="scroll-smooth overflow-y-scroll dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Sarbhanu Baidya - Four years of Blue Bikes</title><meta name="robots" content="index, nofollow"><meta name="description" content="Sarbhanu Baidya - Data Science - Portfolio"><meta name="format-detection" content="telephone=no"><link rel="canonical" href="https://sarbhanub.github.io/work/tableau-bluebikes/"><link rel="robots" href="/robots.txt"><link rel="icon" type="image/x-icon" href="/icons/favicon.ico"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@100..900&family=Geist:wght@100..900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://sarbhanub.github.io/css/app.min.9c543474d952e8d16ff20b911971b9618e9830de6062a53285a2d5a629c69951d6c8c2c90d351d899dee5759d12b5256d67b558f29338cc0cd5d1c4c8f94ef79.css" integrity="sha512-nFQ0dNlS6NFv8guRGXG5YY6YMN5gYqUyhaLVpinGmVHWyMLJDTUdiZ3uV1nRK1JW1ntVjykzjMDNXRxMj5TveQ=="><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-svg.min.js" integrity="sha512-4MXl9OmsJPCU3LySQiKq4baSCSNFha8CBJL7NVSmN+WJJNLhJUycJgGdxJlxAY2ih8jhP9juGYq2ThUihYBKIw==" crossorigin="anonymous" referrerpolicy="no-referrer" defer="defer"></script></head><body><script type="text/javascript">var sc_project=13159061,sc_invisible=1,sc_security="a16225e5"</script><script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script><noscript><div class="statcounter"><a title="Web Analytics Made Easy -
Statcounter" href="https://statcounter.com/" target="_blank"><img class="statcounter" src="https://c.statcounter.com/13159061/0/a16225e5/1/" alt="Web Analytics Made Easy - Statcounter" referrerpolicy="no-referrer-when-downgrade"></a></div></noscript><header><div class="avatar"><a href="https://sarbhanub.github.io/"><img id="avatar" width="128" height="128" alt="Avatar of Sarbhanu Baidya"></a><script>document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("avatar"),t="https://www.gravatar.com/avatar/ecfef13b5721eed9c76399e861134a2540e72797faf0529c3cdd5c7f08bc6c65?s=128",a="/img/avatar.webp",r=sessionStorage.getItem("avatarUrl");if(r)return void(e.src=r);let s=!1;const o=setTimeout(()=>{s||(s=!0,e.src=a,sessionStorage.setItem("avatarUrl",a))},500);e.src=t,e.onload=()=>{s||(s=!0,clearTimeout(o),sessionStorage.setItem("avatarUrl",t))},e.onerror=()=>{s||(s=!0,clearTimeout(o),e.src=a,sessionStorage.setItem("avatarUrl",a))}})</script></div><div><div class="frame"><div class="title"><a href="https://sarbhanub.github.io/">Sarbhanu Baidya</a></div><nav><ul><li><a href="/">Home</a></li><li><a href="/blog">Blog</a></li><li><a href="/work" class="active">Work</a></li><li><a href="/tags">Tags</a></li></ul></nav></div></div><div class="theme-button"><button aria-label="Toggle Theme" title="Toggle Theme" onclick="toggleTheme()"><span class="theme-icon light"><svg aria-hidden="true" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.72 9.72.0 0118 15.75c-5.385.0-9.75-4.365-9.75-9.75.0-1.33.266-2.597.748-3.752A9.753 9.753.0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753.0 009.002-5.998z"/></svg></span><span class="theme-icon dark"><svg aria-hidden="true" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75.0 11-7.5.0 3.75 3.75.0 017.5.0z"/></svg></span></button><script>!function(){const e=document.documentElement,t=window.matchMedia("(prefers-color-scheme: dark)");let s="true"===sessionStorage.getItem("userToggled");const o=document.querySelector(".theme-icon.light"),n=document.querySelector(".theme-icon.dark");function c(t){const s="dark"===t;e.classList.toggle("dark",s),sessionStorage.setItem("theme",t),o.style.display=s?"none":"block",n.style.display=s?"block":"none"}window.toggleTheme=()=>{s=!0,sessionStorage.setItem("userToggled","true"),c(e.classList.contains("dark")?"light":"dark")},t.addEventListener("change",e=>{s||c(e.matches?"dark":"light")}),c(sessionStorage.getItem("theme")||(t.matches?"dark":"light"))}()</script></div></header><main id="content"><section><div><div><h1 class="section-title">Four years of Blue Bikes</h1></div><div><time datetime="2024-02-07T00:00:00Z"><span class="date">Published on Feb 7, 2024 - Takes 5 min(s) to read</span></time></div></div><article><div><p><a href="https://choosealicense.com/licenses/mit/"><img src="https://img.shields.io/badge/License-MIT-green.svg" alt="MIT License"></a></p><h3 id="dashboard">Dashboard:</h3><p><a href="https://public.tableau.com/views/FouryearsofBlueBikes/Stations?:language=en-US&:sid=&:redirect=auth&:display_count=n&:origin=viz_share_link">View with Tableau Public</a></p><p>Blue Bikes (formerly, Hubway) is owned by the municipalities of Boston, Brookline, Cambridge and Somerville, and operated by Motivate International, Inc in Boston, MA.</p><h3 id="snippets">Snippets:</h3><p><strong>Stations</strong> <img src="https://raw.githubusercontent.com/sarbhanub/tableau-bluebikes/master/images/dashboards/Stations-1.png" alt="page-1"></p><p><strong>Trips</strong> <img src="https://raw.githubusercontent.com/sarbhanub/tableau-bluebikes/master/images/dashboards/Trips-1.png" alt="page-2"></p><p><strong>Trends</strong> <img src="https://raw.githubusercontent.com/sarbhanub/tableau-bluebikes/master/images/dashboards/Trends.png" alt="page-3"></p><p><strong>Groups</strong> <img src="https://raw.githubusercontent.com/sarbhanub/tableau-bluebikes/master/images/dashboards/Groups.png" alt="page-4"></p><p><strong>Seasonal</strong> <img src="https://raw.githubusercontent.com/sarbhanub/tableau-bluebikes/master/images/dashboards/Seasonal.png" alt="page-5"></p><p><strong>Weather</strong> <img src="https://raw.githubusercontent.com/sarbhanub/tableau-bluebikes/master/images/dashboards/Weather.png" alt="page-6"></p><h3 id="data-source">Data Source:</h3><p>The datasets used in this project are provided by Blue Bikes (Motivate International, Inc.)</p><p>It includes:</p><ul><li>Comprehensive set of trip histories which is updated each annual quarter</li><li>Real time system data, published in open General Bikeshare Feed Specification (GBFS) format - a format recommended by the North American Bike Share Association (NABSA).</li></ul><p>Home: <a href="https://www.bluebikes.com/system-data">link</a><br>Dataset Bucket: <a href="https://s3.amazonaws.com/hubway-data/index.html">link</a></p><h3 id="focus-of-the-analysis">Focus of the analysis:</h3><ul><li>Locationwise station details and most and least used stations.</li><li>Heatmap of trips for the last four years.</li><li>Details about trips. How does the usual commute look like durationwise? Subscription wise.</li><li>Trips taken by male and female Bluebikers.</li><li>What are the peak hours and peak weekdays? What are the most frequently travelled routes, yearwise?</li><li>Age groups. Subscription status by the age groups.</li><li>Trips taken at late hours, Agewise.</li><li>Trends of the trips taken. What were the busiest months? Estimation of total trips for the coming year.</li><li>Weather conditions and factors that might influence Bluebikers.</li></ul><h3 id="preprocessing">Preprocessing:</h3><p>Below are the steps performed using Pandas and NumPy on this notebook file in order to convert the collected data to a managable format which can be used for visualization.</p><h3 id="analyzing-available-features">Analyzing available features</h3><p>Motivate International, Inc publishes their data each month, so in order to get a time series for 4 years, from Jan, 2019 to Dec, 22 which gives 48 seperate files. [As of 01/09/2023, Dec-22 is the last data published.]</p><ul><li>Merging Data in seperate dataframes <strong>by Year</strong> (2019, 2020, 2021, 2022)</li><li>Extracting the Features from each set. Note: Since all of the years don&rsquo;t contain same features and sometimes aren&rsquo;t of same data type, processing them seperately was the best way of dealing with features since those features are important.</li></ul><h3 id="available-features">Available features:</h3><div class="overflow-x-auto"><table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th><th style="text-align:left">Availability</th></tr></thead><tbody><tr><td style="text-align:left">tripduration</td><td style="text-align:left"><code>int</code></td><td style="text-align:left">Duration in seconds</td><td style="text-align:left">19, 20, 21, 22</td></tr><tr><td style="text-align:left">starttime</td><td style="text-align:left"><code>string</code></td><td style="text-align:left">Date Time in YYYY-MM-DD HH:MM:SS</td><td style="text-align:left">19, 20, 21, 22</td></tr><tr><td style="text-align:left">stoptime</td><td style="text-align:left"><code>string</code></td><td style="text-align:left">Date Time in YYYY-MM-DD HH:MM:SS</td><td style="text-align:left">19, 20, 21, 22</td></tr><tr><td style="text-align:left">start station id</td><td style="text-align:left"><code>int</code></td><td style="text-align:left">Start staion terminal id</td><td style="text-align:left">19, 20, 21, 22</td></tr><tr><td style="text-align:left">start station name</td><td style="text-align:left"><code>string</code></td><td style="text-align:left">Start station name</td><td style="text-align:left">19, 20, 21, 22</td></tr><tr><td style="text-align:left">start station latitude</td><td style="text-align:left"><code>float</code></td><td style="text-align:left">Latitude</td><td style="text-align:left">19, 20, 21, 22</td></tr><tr><td style="text-align:left">start station longitude</td><td style="text-align:left"><code>float</code></td><td style="text-align:left">Longitude</td><td style="text-align:left">19, 20, 21, 22</td></tr><tr><td style="text-align:left">end station id</td><td style="text-align:left"><code>int</code></td><td style="text-align:left">End station terminal ID</td><td style="text-align:left">19, 20, 21, 22</td></tr><tr><td style="text-align:left">end station name</td><td style="text-align:left"><code>string</code></td><td style="text-align:left">End station name</td><td style="text-align:left">19, 20, 21, 22</td></tr><tr><td style="text-align:left">end station latitude</td><td style="text-align:left"><code>float</code></td><td style="text-align:left">Latitude</td><td style="text-align:left">19, 20, 21, 22</td></tr><tr><td style="text-align:left">end station longitude</td><td style="text-align:left"><code>float</code></td><td style="text-align:left">Longitude</td><td style="text-align:left">19, 20, 21, 22</td></tr><tr><td style="text-align:left">bikeid</td><td style="text-align:left"><code>int</code></td><td style="text-align:left">Bike Number</td><td style="text-align:left">19, 20, 21, 22</td></tr><tr><td style="text-align:left">usertype</td><td style="text-align:left"><code>int</code></td><td style="text-align:left">Subscriber or Casual</td><td style="text-align:left">19, 20</td></tr><tr><td style="text-align:left">birth year</td><td style="text-align:left"><code>int</code></td><td style="text-align:left">Year of Birth</td><td style="text-align:left">19, 20</td></tr><tr><td style="text-align:left">gender</td><td style="text-align:left"><code>int</code></td><td style="text-align:left">Male or Female</td><td style="text-align:left">19, 20</td></tr><tr><td style="text-align:left">postal code</td><td style="text-align:left"><code>int</code></td><td style="text-align:left">Incomplete information</td><td style="text-align:left">20, 21, 22</td></tr></tbody></table></div><h3 id="cleaning-data">Cleaning data:</h3><h5 id="information-related-to-recordsyear">Information related to records/year</h5><div class="overflow-x-auto"><table><thead><tr><th style="text-align:left">Year</th><th style="text-align:left">Shape</th></tr></thead><tbody><tr><td style="text-align:left">2019</td><td style="text-align:left"><code>(2522771, 15)</code></td></tr><tr><td style="text-align:left">2020</td><td style="text-align:left"><code>(2073448, 16)</code></td></tr><tr><td style="text-align:left">2021</td><td style="text-align:left"><code>(2934378, 14)</code></td></tr><tr><td style="text-align:left">2022</td><td style="text-align:left"><code>(3757281, 14)</code></td></tr><tr><td style="text-align:left">Total</td><td style="text-align:left"><code>(11287878, 15)</code></td></tr></tbody></table></div><h5 id="data-after-cleaning">Data after Cleaning</h5><p><strong>Trip Data:</strong> NB: Files are not included with the repository. Again, source data files can be downloaded from here. <a href="https://s3.amazonaws.com/hubway-data/index.html">link</a></p><div class="overflow-x-auto"><table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">tripduration</td><td style="text-align:left"><code>int</code></td><td style="text-align:left">Duration in seconds</td></tr><tr><td style="text-align:left">starttime</td><td style="text-align:left"><code>string</code></td><td style="text-align:left">Date Time in YYYY-MM-DD HH:MM:SS</td></tr><tr><td style="text-align:left">stoptime</td><td style="text-align:left"><code>string</code></td><td style="text-align:left">Date Time in YYYY-MM-DD HH:MM:SS</td></tr><tr><td style="text-align:left">start station id</td><td style="text-align:left"><code>int</code></td><td style="text-align:left">Start staion terminal id</td></tr><tr><td style="text-align:left">end station id</td><td style="text-align:left"><code>int</code></td><td style="text-align:left">End station terminal ID</td></tr><tr><td style="text-align:left">bikeid</td><td style="text-align:left"><code>int</code></td><td style="text-align:left">Bike Number</td></tr><tr><td style="text-align:left">usertype</td><td style="text-align:left"><code>int</code></td><td style="text-align:left">Subscriber or Casual, [0, 1]</td></tr><tr><td style="text-align:left">gender</td><td style="text-align:left"><code>int</code></td><td style="text-align:left">NaN, Male, Female [0, 1, 2]</td></tr><tr><td style="text-align:left">age</td><td style="text-align:left"><code>int</code></td><td style="text-align:left">(birth year - starttime year)</td></tr></tbody></table></div><h5 id="data-added">Data Added:</h5><p>Collected station information from the availabe data:</p><p>Station Data: <a href="https://github.com/sarbhanub/tableau-bluebikes/tree/master/tableau/bluebikes_stations.csv">[View CSV]</a></p><div class="overflow-x-auto"><table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">id</td><td style="text-align:left"><code>int</code></td><td style="text-align:left">Terminal id // Not unique</td></tr><tr><td style="text-align:left">name</td><td style="text-align:left"><code>string</code></td><td style="text-align:left">name</td></tr><tr><td style="text-align:left">lat</td><td style="text-align:left"><code>float</code></td><td style="text-align:left">Latitude</td></tr><tr><td style="text-align:left">long</td><td style="text-align:left"><code>float</code></td><td style="text-align:left">Longitude</td></tr><tr><td style="text-align:left">street</td><td style="text-align:left"><code>string</code></td><td style="text-align:left">Street name</td></tr><tr><td style="text-align:left">city</td><td style="text-align:left"><code>string</code></td><td style="text-align:left">Neighbourhood</td></tr><tr><td style="text-align:left">county</td><td style="text-align:left"><code>string</code></td><td style="text-align:left">County name</td></tr><tr><td style="text-align:left">state</td><td style="text-align:left"><code>string</code></td><td style="text-align:left">State name (MA)</td></tr><tr><td style="text-align:left">zip</td><td style="text-align:left"><code>int</code></td><td style="text-align:left">zip code</td></tr></tbody></table></div><h5 id="geocoding-api">Geocoding API:</h5><p>Here we used Geocodeio&rsquo;s <a href="https://www.geocod.io/docs/?python#reverse-geocoding">link</a> API for python to reverse geocode some of the referenced latitudes and longitudes to fetch geographical information and categorical features about the stations and terminal locations.<br>More on the implementation here at <strong>In [88]</strong> of this notebook. <a href="https://github.com/sarbhanub/tableau-bluebikes/blob/master/Blue%20Bikes%20Data%20Preprocessing.ipynb">link</a></p><p>Unofficial package for Geocodeio Python API from bennylope/pygeocodio by bennylope. <a href="https://github.com/bennylope/pygeocodio">link</a></p><p><strong>Implementation details</strong></p><ol><li>Install Geocodeio</li></ol><div class="highlight"><pre tabindex="0" style="-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="display:flex"><span><span>!</span>pip install pygeocodio
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span><span style="color:green;font-weight:700">from</span> <span style="color:#00f;font-weight:700">geocodio</span> <span style="color:green;font-weight:700">import</span> GeocodioClient
</span></span><span style="display:flex"><span>client <span style="color:#666">=</span> GeocodioClient(<span style="color:#ba2121">&#39;KEY_HERE&#39;</span>, timeout<span style="color:#666">=</span><span style="color:#666">300</span>) <span style="color:#408080;font-style:italic">#timeout: API conn. timeout</span>
</span></span></code></pre></div><p><strong>Produced List</strong></p><div class="overflow-x-auto"><table><thead><tr><th style="text-align:left">Parameter</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>client.reverse()</code></td><td style="text-align:left"><code>List</code></td><td style="text-align:left">Python <strong>List</strong> containing Lat Long information.</td></tr></tbody></table></div><h5 id="adding-weather-information-to-the-analysis">Adding weather information to the analysis:</h5><p>Also, added the Weather data for each day from Jan, 2019 to Dec, 2022 Used Visualcrossing&rsquo;s <a href="https://www.visualcrossing.com/">link</a> weather data here.</p><p><strong>Weather Data:</strong> <a href="https://github.com/sarbhanub/tableau-bluebikes/tree/master/tableau/weather_data.csv">[View CSV]</a></p><div class="overflow-x-auto"><table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">datetime</td><td style="text-align:left"><code>string</code></td><td style="text-align:left">Each day from Jan, 2019 to Dec, 2022</td></tr><tr><td style="text-align:left">temp</td><td style="text-align:left"><code>float</code></td><td style="text-align:left">Temprature</td></tr><tr><td style="text-align:left">dew</td><td style="text-align:left"><code>float</code></td><td style="text-align:left">Dew</td></tr><tr><td style="text-align:left">humidity</td><td style="text-align:left"><code>float</code></td><td style="text-align:left">Humidity</td></tr><tr><td style="text-align:left">precip</td><td style="text-align:left"><code>float</code></td><td style="text-align:left">Precipitation</td></tr><tr><td style="text-align:left">precipcover</td><td style="text-align:left"><code>float</code></td><td style="text-align:left">Precipitation cover</td></tr><tr><td style="text-align:left">preciptype</td><td style="text-align:left"><code>string</code></td><td style="text-align:left">Precipitation type</td></tr><tr><td style="text-align:left">uvindex</td><td style="text-align:left"><code>int</code></td><td style="text-align:left">UV index</td></tr></tbody></table></div><h3 id="information-related-to-discarded-data">Information related to discarded data:</h3><ul><li>Since Postal code information was incomplete, we were unable to use that information. Instead later we collected the postcode of each station using Geocodeio API.</li><li>Removed the redundant information containing &lsquo;start station name&rsquo;, &lsquo;start station latitude&rsquo;, &lsquo;start station longitude&rsquo;, &rsquo;end station name&rsquo;, &rsquo;end station latitude&rsquo;, &rsquo;end station longitude&rsquo;.</li></ul><h3 id="reduction-in-raw-data-size-total">Reduction in raw data size (total):</h3><div class="overflow-x-auto"><table><thead><tr><th style="text-align:left">Before</th><th style="text-align:left">After</th><th style="text-align:left">Reduction</th></tr></thead><tbody><tr><td style="text-align:left">2.30 GB</td><td style="text-align:left">1.24 GB</td><td style="text-align:left">~ 46.08%</td></tr></tbody></table></div></div><div></div></article><div><div class="taxonomy-list"><a href="/tags/tableau/" alt="Tableau">Tableau </a><a href="/tags/pandas/" alt="Pandas">Pandas </a><a href="/tags/data-visualization/" alt="Data Visualization">Data Visualization </a><a href="/tags/data-engineering/" alt="Data Engineering">Data Engineering</a></div></div></section><script>document.querySelectorAll("article section a").forEach(t=>{t.setAttribute("target","_blank")})</script></main><footer><div class="copyright"><div class="font-semibold">© 2023–25</div><div>Made with <span style="color:red">&#9829;</span> by Sarbhanu</div></div><div class="sitelinks"><ul><li><a href="https://linkedin.com/in/sarbhanub/" target="_blank" rel="nofollow noopener noreferrer"><span class="icon-gap"><span>LinkedIn </span><span class="icon"><svg aria-hidden="true" stroke-width="2" stroke="currentcolor" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="m4.5 19.5 15-15m0 0H8.25m11.25.0v11.25"/></svg></span></span></a></li><li><a href="https://github.com/sarbhanub/" target="_blank" rel="nofollow noopener noreferrer"><span class="icon-gap"><span>GitHub </span><span class="icon"><svg aria-hidden="true" stroke-width="2" stroke="currentcolor" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="m4.5 19.5 15-15m0 0H8.25m11.25.0v11.25"/></svg></span></span></a></li><li><a href="https://kaggle.com/sarbhanubaidya/" target="_blank" rel="nofollow noopener noreferrer"><span class="icon-gap"><span>Kaggle </span><span class="icon"><svg aria-hidden="true" stroke-width="2" stroke="currentcolor" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="m4.5 19.5 15-15m0 0H8.25m11.25.0v11.25"/></svg></span></span></a></li></ul></div></footer></body></html>